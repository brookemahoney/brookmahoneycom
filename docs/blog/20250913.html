<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../css/normalize.css" />
  <link rel="stylesheet" href="../css/app.css" />
  <title>Morning routine, Trying Tome | Brooke Mahoney</title>
</head>

<body>
  <div class="page--blog">
    <div class="site-title">
      <a href="/">Brooke Mahoney</a>
    </div>

    <main>

      <section class="card">
        <h1 class="card--heading">20250913 - Morning routine, Trying Tome</h2>
          <section class="card--inner">
            <h3>Morning, ya'll</h3>
            <p>
              When it's morning, I catch up on reading. I check drupal planet, ycombinator, youtube subs, medium digest,
              email, this, that, and the other. If every day I do this, I know I'm still developing at the cutting edge.
              When something new comes out, I will always at least see the headlines.
            </p>
            <p>
              Yesterday was productive. I learned that Tome is a cool thing for static site generators for Drupal and
              that it integrates with Gatsby or anything else that can digest JSON. This seems to be a great thing to
              use. Even if it's buggy, it will be fine, because I can help fix it.
            </p>
            <p>
              I like the idea of Tome, which can use Drupal's caching and rendering pipelines. Does the Drupal Gatsby
              module do anything similar or does it just hook up to GraphQL? What does the module ecosystem look like
              for Drupal Gatsby versus Tome? Does it makes sense for the two modules to work together so that the Gatsby
              module provides a generator entity type for Tome?
            </p>
            <p>
              I think the first thing I'll do is spin up a default drupal site and then add Tome to it and see what that
              does.
            </p>
            <h3>Spinning up a Tome Drupal site locally</h3>
            <p>
              FirstStart Orbstack. Then, Go to the DDEV docs for the most up to date instructions on creating a new
              Drupal site: <a
                href="https://docs.ddev.com/en/stable/users/quickstart/#drupal">https://docs.ddev.com/en/stable/users/quickstart/#drupal</a>.
              At the time of this writing, this is how it's done:
            </p>
            <p>
              <code>
  mkdir tometest && cd tometest<br>
  ddev config --project-type=drupal11 --docroot=web<br>
  ddev start<br>
  ddev composer create-project "drupal/recommended-project:^11"<br>
  ddev composer require drush/drush<br>
  ddev drush site:install --account-name=admin --account-pass=admin -y<br>
  ddev launch<br>
  # or automatically log in with<br>
  ddev launch $(ddev drush uli)<br>
              </code>
            </p>
            <p>
              Next, I'll visit <a
                href="https://tome.fyi/docs/installing-existing-site/">https://tome.fyi/docs/installing-existing-site/</a>
              and follow the instructions there to install Tome on an existing site.
            </p>
            <p>
              <code>
ddev composer require drupal/tome<br>
ddev drush en tome_static -y<br>
ddev drush tome:static --uri=http://localhost:8001<br>
cd html<br>
python -m http.server 8001<br>
open http://localhost:8001
              </code>
            </p>
            <p>
              OMG, are you kidding me? It worked, first time! The Drupal home page is a static page in the /html folder of the install. I mean, this seems amazing.
            </p>
            <h3>Analyzing what Tome output</h3>
            <p>
              The first thing I notice is that the contact form is shown. Well, that's not gonna work, now is it? Guess I'll remove that. Let's see how long it takes me... OK, uninstalled the contact module and rebuilt the site in under a minute and a half. Pretty good :)
            </p>
            <p>
              rss.xml is there, nice!
            </p>
            <p>
              Search page is there... well, that won't work. Let's disable that. The /node path exists, and I don't want that, but the frontpage uses it... I'll keep it for now.
            </p>
            <p>
              OK, I think this has progressed far enough for me to use it for my blog. I don't think I'll write about that, but we'll see.
            </p>
          </section>
      </section>

      <section class="card footer-nav">
        <h2 class="card--heading">Site Navigation</h2>
        <section class="card--inner">
          <nav class="footer-nav--menu">
            <ul>
              <li>
                <a href="/">Home</a>
              </li>
              <li>
                <a href="/blog">Blog</a>
              </li>
              <li>
                <a href="/rando-pet">Random Adoptable Pet</a>
              </li>
            </ul>
          </nav>
        </section>
      </section>


    </main>
  </div>
</body>

</html>